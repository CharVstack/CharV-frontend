var _=Object.defineProperty;var o=(e,t)=>_(e,"name",{value:t,configurable:!0});import{s as y}from"./v1-747d17d9.js";import{B as C,d as M,M as u,m as b,g as R}from"./InstanceTable-36dc44fb.js";import{r as S,i as x,a as B}from"./listItemTextClasses-6d807b94.js";import{r as h}from"./index-f47a0ae4.js";import{a as c}from"./apiClient-d99a83e4.js";import{a as d,F as A,j as s}from"./jsx-runtime-b19c866b.js";import{k as V}from"./Form-86d6f796.js";import{B as w}from"./Box-8c430381.js";import"./es.object.get-own-property-descriptor-c4a71770.js";import"./index-6ed2bdb3.js";import"./LoadingSpinner-7be6b725.js";import"./Backdrop-f22d0f8f.js";import"./defaultTheme-968d66a4.js";import"./styled-e2b1244e.js";import"./useThemeProps-6d10ab63.js";import"./useTheme-ff8042f4.js";import"./TransitionGroupContext-8ec6baf2.js";import"./index-110bb8ac.js";import"./emotion-react.browser.esm-70e32f24.js";import"./Stack-32a6d020.js";import"./extendSxProp-8eacf561.js";import"./TabPanel-0f654da1.js";import"./index-927af580.js";import"./createSvgIcon-14d70d9c.js";import"./ButtonBase-fe82116c.js";import"./List-3c838ebe.js";import"./ListContext-8125bde0.js";import"./Paper-1f219f92.js";import"./Typography-97d54ba1.js";import"./Toolbar-6585fac5.js";import"./index-a2f37619.js";import"./GlobalStyles-e9c9631f.js";var p={},D=x.exports;Object.defineProperty(p,"__esModule",{value:!0});var g=p.default=void 0,I=D(S()),O=B,j=(0,I.default)((0,O.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");g=p.default=j;var f=Number.isNaN||o(function(t){return typeof t=="number"&&t!==t},"ponyfill");function E(e,t){return!!(e===t||f(e)&&f(t))}o(E,"isEqual");function N(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!E(e[r],t[r]))return!1;return!0}o(N,"areInputsEqual");function T(e,t){t===void 0&&(t=N);var r=null;function i(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var l=e.apply(this,n);return r={lastResult:l,lastArgs:n,lastThis:this},l}return o(i,"memoized"),i.clear=o(function(){r=null},"clear"),i}o(T,"memoizeOne");const k=o((e,t)=>h.exports.useMemo(()=>T(i=>async()=>{await Promise.all(e.map(async n=>{await c.api.v1.vms._vmId(n).power.$post({body:{action:i}}).then(async()=>{await b(R(c.api.v1.vms._vmId(n))),t()}).catch(()=>{t()})}))}),[e,t]),"useSubmitHandlerFactory"),m=o(({vms:e})=>{const[t,r]=h.exports.useState(null),i=Boolean(t),n=o(v=>{r(v.currentTarget)},"handleClick"),a=o(()=>{r(null)},"handleClose"),l=k(e,a);return d(A,{children:[s(C,{disabled:e.length===0,variant:"contained",onClick:n,color:"success",endIcon:s(g,{}),startIcon:s(M,{}),children:"Actions"}),s(V,{anchorEl:t,open:i,onClose:a,children:d(w,{sx:{width:180},children:[s(u,{onClick:l("start"),disableRipple:!0,children:"Start"}),s(u,{onClick:l("shutdown"),disableRipple:!0,children:"Shutdown"}),s(u,{onClick:l("reboot"),disableRipple:!0,children:"Restart"})]})})]})},"BaseVmControlMenu");try{m.displayName="BaseVmControlMenu",m.__docgenInfo={description:"",displayName:"BaseVmControlMenu",props:{vms:{defaultValue:null,description:"",name:"vms",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/organisms/Menu/VmControlMenu.tsx#BaseVmControlMenu"]={docgenInfo:m.__docgenInfo,name:"BaseVmControlMenu",path:"src/components/organisms/Menu/VmControlMenu.tsx#BaseVmControlMenu"})}catch{}const vt={component:m},_t={args:{vms:[y.components.responses.GetAllVMsList200Response.content["application/json"].examples["example-1"].value.vms[0].metadata.id]}},yt={args:{vms:[]}},Ct=["Default","Disabled"];export{_t as Default,yt as Disabled,Ct as __namedExportsOrder,vt as default};
//# sourceMappingURL=VmControlMenu.stories-db42b9e7.js.map
